<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>Advanced Galleries in Distro</title>
    <link rel="stylesheet" type="text/css" href="build/build.css">
  </head>
  <body>
    <article>
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h1>Advanced Galleries in Distro</h1><br><br><br><br><br>
        <h3>A technical overview</h3>
        <h5>by Chris Kinch, Daniel Buslowicz and Attila Beregszaszi</h5>
      </section>
      <!-- Part 1 - Dennis Gallery Advanced: What? Why? How?-->
      <!-- Brief on background-->
      <!-- Attila-->
      <section data-bespoke-backdrop="forced-white" class="forced-white">
        <h1>#1</h1><br><br><br><br><br><br><br><br>
        <h1>What? Why? How?</h1><img src="./images/1-whatwhyhow.gif">
      </section>
      <section>
        <h1>What?</h1><br><br><br>
        <h2>Dennis Gallery Advanced</h2><br><br><br>
        <ul>
          <li>
            <h4>Out of the box solution for Distro sites</h4>
          </li>
          <li>
            <h4>Feature module</h4>
          </li>
          <li>
            <h4>Can coexist with Dennis Gallery</h4>
          </li>
          <li>
            <h4>Same back-end experience</h4>
          </li>
          <li>
            <h4>Better editorial experience</h4>
          </li>
          <li>
            <h4><span class="red">So Much Better User Experience</span></h4>
          </li>
        </ul>
      </section>
      <section>
        <h1>Why?</h1><br><br><br>
        <h4 class="bullet"></h4>
        <h4 class="bullet">We spend a significant amount of cash on PPC to help serve ad campaigns</h4><br>
        <h4 class="bullet">This impacts our profit level so by increasing page views/session we can reduce marketing spend</h4><br>
        <h4 class="bullet">We also knew that our old gallery had a clunky user experience that needed improving.</h4>
        <h4 class="bullet"><em>from Nick Flood</em></h4>
      </section>
      <section>
        <h3>We also knew that our old gallery had a clunky user experience that needed improving.</h3>
      </section>
      <section>
        <h2 class="bullet">We also knew that our old gallery had a clunky user experience that needed improving.</h2>
      </section>
      <section>
        <h1 class="bullet">We also knew that our old gallery had a clunky user experience that needed improving.</h1>
      </section>
      <section>
        <h1>Why?</h1><br><br><br class="bullet">
        <h3 class="bullet">Because of Dennis Gallery</h3>
      </section>
      <section data-bespoke-backdrop="forced-white" style="background: url(./images/1-dennis_gallery_er.jpg) no-repeat center center; background-size: 100% auto" class="forced-white">
        <ul>
          <li></li>
          <li>
            <h2 class="shake shake-slow shake-constant"><strong style="color:red; font-size:200px; border:22px solid; padding:.15em;">FAIL</strong></h2>
          </li>
        </ul>
      </section>
      <section data-bespoke-backdrop="forced-black" style="background: black url(./images/1-dennis_gallery_adv_evo.jpg) no-repeat center center; background-size: 100% auto" class="forced-black"></section>
      <section>
        <h1>How?</h1><br><br>
        <h3 class="bullet">New approach → Start from scratch</h3>
        <h4 class="bullet">Try To Do It Properly&nbsp;<span class="bullet">→ Not a single BAU ticket on the board</span></h4>
        <ul>
          <li>
            <h4>Identified requirements</h4>
          </li>
          <li>
            <h4>Did tech research</h4>
          </li>
          <li>
            <h4>Built static HTML prototype</h4>
          </li>
          <li>
            <h4>Tested Search Engine Friendliness</h4>
          </li>
          <li>
            <h4>Started on architecture and identified key tools</h4>
          </li>
        </ul>
      </section>
      <section>
        <h1>Status</h1><br>
        <h4 class="bullet">The new advanced gallery is now live on:</h4>
        <h4 class="bullet">Evo</h4>
        <h4 class="bullet">AutoExpress</h4>
        <h4 class="bullet">CarBuyer</h4><br><br>
        <h4 class="bullet">Shortly to be live on Expert Reviews and then DOG US</h4>
      </section>
      <section>
        <h1>Performance</h1><br><br>
        <h4 class="bullet">New gallery has served<span class="red shake shake-slow shake-constant">&nbsp;&nbsp;10,000,000&nbsp;&nbsp;</span><span>images to date</span></h4>
        <p class="bullet">(hit the number yesterday)</p><br><br>
        <h4 class="bullet">Autoexpress increased page views per visit by<span class="red shake shake-rotate shake-constant">&nbsp;&nbsp;20%&nbsp;&nbsp;</span></h4>
      </section>
      <section data-bespoke-backdrop="forced-white" style="background: url(./images/1-ga.png) no-repeat center center; background-size: 100% auto" class="forced-white"></section>
      <section data-bespoke-backdrop="forced-white" style="background: url(./images/1-ga2.png) no-repeat center center; background-size: 100% auto" class="forced-white"></section>
      <!-- Part 2 - Backbone, Require & me-->
      <!-- Brief tech intro-->
      <!-- Attila-->
      <section data-bespoke-backdrop="forced-white" class="forced-white">
        <h1>#2</h1><br><br><br><br><br><br><br><br><br><br><br>
        <h1>Backbone, Require &amp; me</h1>
      </section>
      <section>
        <h2>Backbone.js</h2><br><br><br>
        <h3>Quick overview</h3>
        <h3>Why we picked it</h3>
        <h3>What we use Backbone for</h3>
      </section>
      <section>
        <h2>Backbone.js</h2>
        <h3>Quick overview</h3><br><br><br>
        <h4><span class="str">MVC</span><span class="str">MV*</span><span>MVVM framework</span></h4>
        <h4>One of the first of its kind</h4>
        <h4>Not the most popular by now, still widely used</h4>
        <h4>Depends on Underscore.js and jQuery</h4>
        <h4>The smallest file size among the popular ones</h4>
      </section>
      <section>
        <h2>Backbone.js</h2>
        <h3>Why we picked it</h3><br><br><br>
        <h4>Most flexible, selectable components</h4>
        <h4>Store components not bound to a DOM element</h4>
        <h4>Model and Collections work hassle-free</h4>
        <h4>Event handling is mature</h4>
        <h4>Syntax is close to native OO JS</h4>
        <h4>Documentation is very good</h4>
      </section>
      <section>
        <h2>Backbone.js</h2>
        <h3>What we use Backbone for</h3><br><br><br>
        <ul></ul>
        <h4 class="bullet">Router (no pushState for SEO purposes)</h4>
        <h4 class="bullet">Event emitter</h4>
        <h4 class="bullet">Models, Collections (bootstrapped from back-end)</h4>
        <h4 class="bullet">Easy templating via Underscore.js</h4>
        <h5 class="bullet">(yes, we prefer JS templating over Drupal here)</h5>
      </section>
      <section>
        <h2>Require.js</h2><br><br><br><br><br>
        <h4 class="bullet">Very Quick Overview™</h4>
        <h4 class="bullet">Why we picked it → because it's in the distro</h4>
        <h4 class="bullet">What we use it for → module spec, optimisation, async</h4>
        <h4 class="bullet"><a href="http://attila.github.io/distro-requirejs-talk/">http://attila.github.io/distro-requirejs-talk/</a></h4>
      </section>
      <section>
        <h2>Custom additions</h2><br><br><br>
        <h3 class="bullet">View manager</h3>
        <h4 class="bullet">"Base" Views&nbsp;<span class="bullet">→ DRY</span></h4><br><br>
        <h3 class="bullet">Mediator/PubSub module</h3>
        <h4 class="bullet">design pattern&nbsp;<span class="bullet">→ Communicate across modules</span></h4>
      </section>
      <!-- Part 3 - Features and functionality-->
      <!-- Detailed functionality overview-->
      <!-- Attila?-->
      <section data-bespoke-backdrop="forced-white" class="forced-white">
        <h1>#3</h1><br><br><br><br><br><br><br><br><br><br><br>
        <h1>Features and functionality</h1>
      </section>
      <section>
        <h1 class="bullet">Modularity</h1><br><br><br><br><br>
        <h3 class="bullet">Decoupled modules</h3>
        <h3 class="bullet">Separation of concerns</h3>
      </section>
      <section>
        <h1 class="bullet">Markup</h1><br><br><br><br><br>
        <h4 class="bullet">Single page</h4>
        <h4 class="bullet">No AJAX<span class="bullet red">&nbsp;(!!!)</span></h4>
        <h4 class="bullet">&lt;noscript&gt;</h4>
        <h4 class="bullet">Indexable</h4>
      </section>
      <section data-bespoke-backdrop="forced-white" style="background: url(./images/3-source.png) no-repeat center center; background-size: 100% auto" class="forced-white"></section>
      <section>
        <h1>List view</h1><br><br><br><br><br><br><br>
        <ul>
          <h4>Standard Drupal page with a long list of images with details and individual sharing</h4>
          <h4>Uses lazy loading → saves bandwidth</h4><br><br>
          <h4>Still under construction</h4>
        </ul>
      </section>
      <section>
        <h1>Presentation view</h1><br><br><br><br><br><br><br>
        <h4>This is the default</h4>
        <h4>Same markup as list for images</h4>
        <h4>Launched as overlay but has own shareable URL</h4>
      </section>
      <section data-bespoke-backdrop="forced-dark" style="background: url(./images/3-sample.jpg) no-repeat center center; background-size: 100% auto" class="forced-dark"></section>
      <section data-bespoke-backdrop="forced-dark" style="background: url(./images/3-sample-info.jpg) no-repeat center center; background-size: 100% auto" class="forced-dark"></section>
      <section data-bespoke-backdrop="forced-dark" style="background: url(./images/3-sample-nav.jpg) no-repeat center center; background-size: 100% auto" class="forced-dark"></section>
      <section data-bespoke-backdrop="forced-dark" style="background: url(./images/3-sample-ads.jpg) no-repeat center center; background-size: 100% auto" class="forced-dark"></section>
      <section>
        <h1>Modules</h1><br><br><br><br><br><br><br>
        <h3>Main modules by functionality</h3>
      </section>
      <section>
        <h1>Swiper.js</h1><br><br><br><br><br><br class="bullet">
        <h4 class="bullet">http://www.idangero.us/sliders/swiper/</h4>
        <h4 class="bullet">Until we can find something better</h4><br><br><br><br>
        <h5 class="bullet">Or write our own</h5>
      </section>
      <section>
        <h1>Overlay</h1><br><br><br><br><br><br class="bullet">
        <h4 class="bullet">Presentation modes referenced from articles</h4>
        <h4 class="bullet">Our own lightweight solution
          <div>no <code>*box</code> (color, light, fancy, whatnot)</div>
        </h4>
      </section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="./images/3-overlay.gif"></section>
      <section>
        <h1>Thumbnails</h1><br><br><br><br><br><br class="bullet">
        <h4 class="bullet">Backbone.js Collection of Images</h4>
        <h4 class="bullet">Elements rendered by JS, not served by PHP</h4>
        <h4 class="bullet">Lazy loaded to handle large amount of images</h4><br>
        <h5 class="bullet">Lazy loaded thumbs on a throttled network...</h5>
      </section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="./images/4-thumbnails.gif"></section>
      <section>
        <h1>Full image</h1><br><br><br><br class="bullet">
        <h4 class="bullet">Modal view of original image</h4>
      </section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="./images/4-fullscreen.gif" style="width:100%;height:auto;"></section>
      <section>
        <h1>Share buttons</h1><br><img src="./images/3-sample-share.jpg" width="480" height="300"><br><br class="bullet">
        <h4 class="bullet">Shareable individual URLs via #</h4>
        <h4 class="bullet">Current version uses AddThis (loaded async)</h4>
        <h4 class="bullet">Next version 7.x uses RRSSB and Sharerich</h4>
      </section>
      <section>
        <h2>GPT Ads (Google DFP)</h2><br>
        <h4>Refresh ad unit on every nth (configurable)</h4>
        <h4>Refresh ad unit on change after n secs (configurable)</h4><br><br>
        <h2>Vibrant Media image ads</h2><br>
        <h4>Refresh ad unit on every nth (configurable)</h4>
        <h4>Refresh ad unit on change after n secs (configurable)</h4>
      </section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="images/4-configuration.png" style="max-width:100%;height:auto;"></section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="images/4-gptflow.gif" style="width:100%;height:auto;"></section>
      <section>
        <h2 class="bullet">Tracking</h2><br><br>
        <h3 class="bullet">We Track Anything™</h3>
        <h4 class="bullet">Pageviews</h4>
        <h4 class="bullet">Event tracking</h4>
        <h4 class="bullet">Clicks/taps on navigation</h4>
        <h4 class="bullet">Keyboard navigation</h4>
        <h4 class="bullet">Switch to fullscreen</h4>
        <h4 class="bullet">Close</h4>
        <h4 class="bullet">...you name it</h4>
      </section>
      <!-- Part 4 - Internal structure-->
      <!-- Detailed structural overview-->
      <!-- Daniel-->
      <section>
        <h2>Advanced Gallery internal structure</h2>
      </section>
      <section>
        <h3>Models</h3>
        <ul>
          <li></li>
          <li>GalleryCount</li>
          <li>GalleryItem</li>
        </ul>
      </section>
      <section data-bespoke-backdrop="forced-dark" class="imgfull forced-dark"><img src="./images/4-gallery-navigation.jpg" style="max-width:100%;height:auto;"></section>
      <section>
        <h3>Views</h3>
        <p>...and viewManager</p>
        <p></p>
        <ul>
          <li></li>
          <li>base<span class="bullet">→ the mother of all</span></li>
          <li>infoview</li>
          <li>maingallery</li>
          <li>maingallerylist</li>
          <li>navigationview</li>
          <li>origimgview</li>
          <li>thumbnailsview</li>
        </ul>
      </section>
      <section data-bespoke-backdrop="forced-dark" class="imgfull forced-dark"><img src="./images/4-origimgview.jpg" style="max-width:100%;height:auto;"></section>
      <section>
        <h3>Templates</h3>
        <ul>
          <li></li>
          <li>info</li>
          <li>navigation</li>
          <li>orig_img</li>
          <li>thumbnails</li>
        </ul>
      </section>
      <section data-bespoke-backdrop="forced-dark" class="imgfull forced-dark"><img src="./images/4-origimgview-initiation.png" style="max-width:100%;height:auto;"></section>
      <section data-bespoke-backdrop="forced-dark" class="imgfull forced-dark"><img src="./images/4-origimgview-template.png" style="max-width:100%;height:auto;"></section>
      <section>
        <h3>Mediator for module interactions</h3>
        <p>Code examples</p><code style="text-align: left">
          mediator.subscribe('gallery:init', this.setActive);
          mediator.subscribe('gallery:changeStart', this.setActive);
          $(document).on('click', '.thumbnails img', function(e) {
          &nbsp;&nbsp;mediator.publish('gallery:thumbnailClicked', parseInt(e.target.parentElement.getAttribute('href').substring(1)));
          });</code>
      </section>
      <!-- Part 5 - Working with Drupal - Flexibility and Extendability-->
      <!-- Detailed Drupaly things-->
      <!-- Attila-->
      <section data-bespoke-backdrop="forced-white" class="forced-white">
        <h1>#5</h1>
        <h1>Working with Drupal</h1><br><br><br><br><br><br><br><br><br><br><br>
        <h2>Flexibility and Extendability</h2>
      </section>
      <section class="imgfull">
        <h1>Bootstrapped data for JS</h1><img src="images/5-data.png" style="max-width:80%;height:auto;padding:10px;background-color:white">
      </section>
      <section>
        <h1>Custom templates</h1><br><br><br><br><br><br>
        <h3>Stripped down html/page/node.tpl.php</h3>
        <h3>No usual regions rendered</h3>
        <h4>No sidebar, header, footer</h4>
      </section>
      <section>
        <h1>Custom theme functions</h1><br><br><br><br><br>
        <h3>Drop in replacement for theme_image</h3><br>
        <h3><code class="language-php">theme_gallery_adv_image()</code></h3>
      </section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="images/5-imgsource.png" style="max-width:100%"></section>
      <section>
        <h1>Easy integration</h1><br><br><br><br><br>
        <h3>Initialises on any content type where there is an 'Associated Advanced Gallery' field</h3><br>
        <h4>Distro content types are covered automatically</h4>
        <h4>Site-specific content types need the field</h4><br><br><br class="bullet">
        <h3 class="bullet">But of course extensive CSS may be required</h3>
      </section>
      <section>
        <h1>WYSIWYG plugin</h1><br><br><br><br><br>
        <h3>For inserting gallery images inline</h3>
      </section>
      <section>
        <h1>Mass edit media</h1><br><br><br><br><br>
        <h3>Edit image metadata in one go</h3>
      </section>
      <!-- Part 6 - Going responsive on any site-->
      <!-- The CSS bits-->
      <!-- Daniel-->
      <section>
        <h2>Going responsive on any site</h2>
        <ul>
          <li></li>
          <li>The ads</li>
          <li>User Interface</li>
        </ul>
      </section>
      <section data-bespoke-backdrop="forced-white" class="imgfull forced-white"><img src="./images/6-responsive-sass.png"></section>
      <!-- Part 7 - End-->
      <!-- Attila & Daniel-->
      <section data-bespoke-backdrop="emphatic" class="emphatic-text">
        <h1>Questions?</h1><br><br><br><br><br><br><br><br><br><br><br><br>
        <h5>(you may get answers)</h5>
      </section>
    </article>
    <script src="build/build.js"></script>
  </body>
</html>